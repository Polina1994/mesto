(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=t((function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"renderSection",(function(e){e.renderSection=e,e.forEach((function(e){return o._renderer(e)}))})),n(this,"addItem",(function(e){o._container.append(e)})),n(this,"addNewItem",(function(e){o._container.prepend(e)})),this._renderer=t,this._container=document.querySelector(r)}));function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r,o,i){var a=o.handleDeleteClick,u=o.handleLikeCard,c=o.handleDislikeCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._owner=t.owner._id,this._id=t._id,this._likes=t.likes,this.cardId=t._id,this.userId=i,this._cardSelector=n,this._handleCardClick=r,this._handleDeleteClick=a,this._handleLikeCard=u,this._handleDislikeCard=c,this._ownerId=this.userId===this._owner}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"getId",value:function(){return this._id}},{key:"_setEventListeners",value:function(){var e=this;this._trashBtn.addEventListener("click",(function(){return e._handleDeleteClick()})),this._cardLink.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._likeBtn.addEventListener("click",(function(){e._likeBtn.classList.contains("element__like-active")?(e.dislikeCard(),e._handleDislikeCard()):(e.likeCard(),e._handleLikeCard())}))}},{key:"_checkLikes",value:function(){var e=this;this._likes.forEach((function(t){t._id===e.userId&&e._likeBtn.classList.add("element__like-active")}))}},{key:"likeCard",value:function(){this._likeBtn.classList.add("element__like-active")}},{key:"dislikeCard",value:function(){this._likeBtn.classList.remove("element__like-active")}},{key:"renewLikes",value:function(e){this._likesCounter.textContent=e.likes.length}},{key:"_checkCardOwner",value:function(){if(!this._owner)return this._trashBtn.remove(),this._card}},{key:"deleteCard",value:function(){this._card.remove(),this._card=null}},{key:"generateCard",value:function(){return this._card=this._getTemplate(),this._cardPlace=this._card.querySelector(".element__title"),this._cardLink=this._card.querySelector(".element__image"),this._likeBtn=this._card.querySelector(".element__like"),this._trashBtn=this._card.querySelector(".element__trash"),this._likesCounter=this._card.querySelector(".element__count"),this._setEventListeners(),this._cardPlace.textContent=this._name,this._cardLink.src=this._link,this._cardLink.alt=this._name,this._checkCardOwner(),this.renewLikes(this._data),this._checkLikes(),this._card}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._buttonElement=this._form.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.disabled="disabled",this._buttonElement.classList.add(this._inactiveButtonClass)):(this._buttonElement.disabled="",this._buttonElement.classList.remove(this._inactiveButtonClass))}},{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_is-opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_is-opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close-button").addEventListener("click",(function(){return e.close()})),this._popup.addEventListener("mousedown",(function(t){return e._handleOverlayClose(t)}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._title=t._popup.querySelector(".popup-image__title"),t._image=t._popup.querySelector(".popup-image__image"),t}return t=a,(n=[{key:"open",value:function(e,t){p(_(a.prototype),"open",this).call(this),this._image.src=t,this._image.alt=e,this._title.textContent=e}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitFunction=t,n._popupForm=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._popupForm.querySelectorAll(".popup__input")),n._submitButton=n._popupForm.querySelector('[type="submit"]'),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;k(C(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._submitFunction(e._getInputValues())}))}},{key:"close",value:function(){k(C(a.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"setLoadingState",value:function(e){e?(this._submitButton.textContent="Сохранение...",this._submitButton.setAttribute("disabled","true")):(this._submitButton.innerText="Сохранить",this._submitButton.hasAttribute("disabled")&&this._submitButton.removeAttribute("disabled"))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function B(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._confirmButton=t._popup.querySelector(".popup-confirm__button"),t._submitCallback=null,t}return t=a,(n=[{key:"open",value:function(e){j(R(a.prototype),"open",this).call(this),this._deleteCard=e}},{key:"setEventListeners",value:function(){var e=this;j(R(a.prototype),"setEventListeners",this).call(this),this._confirmButton.addEventListener("click",(function(t){t.preventDefault(),e._deleteCard()}))}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(t.nameSelector),this._profileDescription=document.querySelector(t.descriptionSelector),this._profileAvatar=document.querySelector(t.profileAvatar)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,about:this._profileDescription.textContent,profileAvatar:this._profileAvatar.src}}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileDescription.textContent=e.about,this._profileAvatar.src=e.profileAvatar,this._id=e.userId}},{key:"getId",value:function(){return this._id}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserData",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._getResponseData)}},{key:"setUserData",value:function(e){var t=this,n=Object.assign({body:JSON.stringify(e),method:"PATCH",headers:this._headers});return fetch("".concat(this._baseUrl,"/users/me"),n).then((function(e){return t._getResponseData(e)}))}},{key:"addNewCard",value:function(e){var t=this,n=Object.assign({body:JSON.stringify(e),method:"POST",headers:this._headers});return fetch("".concat(this._baseUrl,"/cards"),n).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this,n=Object.assign({method:"DELETE",headers:this._headers});return fetch("".concat(this._baseUrl,"/cards/").concat(e),n).then((function(e){return t._getResponseData(e)}))}},{key:"likesCard",value:function(e){var t=this,n=Object.assign({method:"PUT",headers:this._headers});return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),n).then((function(e){return t._getResponseData(e)}))}},{key:"dislikeCard",value:function(e){var t=this,n=Object.assign({method:"DELETE",headers:this._headers});return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),n).then((function(e){return t._getResponseData(e)}))}},{key:"setNewAvatar",value:function(e){var t=this,n=Object.assign({body:JSON.stringify(e),method:"PATCH",headers:this._headers});return fetch("".concat(this._baseUrl,"/users/me/avatar"),n).then((function(e){return t._getResponseData(e)}))}},{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-46",headers:{authorization:"b728ad0c-8a51-4521-be05-924ef3deb392","Content-Type":"application/json"}});function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=document.querySelector(".popup-edit"),V=N.querySelector(".popup__input_value_name"),F=N.querySelector(".popup__input_value_job"),J=document.querySelector(".popup-add"),G=document.querySelector(".profile__edit-button"),H=document.querySelector(".profile__add-button"),M=document.querySelector(".popup-avatar"),z=document.querySelector(".profile__avatar-overlay"),$={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},K=new u($,N);K.enableValidation();var Q=new u($,J);Q.enableValidation();var W=new u($,M);W.enableValidation();var X=new v(".popup-image");X.setEventListeners();var Y=new O(".popup-edit",(function(e){Y.setLoadingState(!0),console.log(e.about),U.setUserData({name:e.name,about:e.about}).then((function(e){ne.setUserInfo({name:e.name,about:e.about,profileId:e._id,profileAvatar:e.avatar}),Y.close()})).catch((function(e){console.error(e)})).finally((function(){return Y.setLoadingState(!1)}))}));Y.setEventListeners();var Z=new O(".popup-add",(function(e){Z.setLoadingState(!0),U.addNewCard(e).then((function(e){re.addItem(oe(e))})).then((function(){Z.close()})).catch((function(e){console.error(e)})).finally((function(){return Z.setLoadingState(!1)}))}));Z.setEventListeners();var ee=new D(".popup-confirm");ee.setEventListeners();var te=new O(".popup-avatar",(function(e){te.setLoadingState(!0),U.setNewAvatar({avatar:e.avatar}).then((function(e){ne.setUserInfo({name:e.name,about:e.about,profileId:e._id,profileAvatar:e.avatar}),te.close()})).catch((function(e){console.error(e)})).finally((function(){return te.setLoadingState(!1)}))}));te.setEventListeners();var ne=new T({nameSelector:".profile__name",descriptionSelector:".profile__job",profileAvatar:".profile__avatar"}),re=new r((function(e){re.addItem(oe(e))}),".elements");function oe(e){var t=new i(e,".card",ie,{handleDeleteClick:function(){return function(e,t){ee.open((function(){U.deleteCard(e).then((function(){t.deleteCard(),ee.close()})).catch((function(e){console.error(e)}))}))}(e._id,t)},handleLikeCard:function(){U.likesCard(e._id,t).then((function(e){t.renewLikes(e)})).then((function(){t.likeCard()})).catch((function(e){console.log(e)}))},handleDislikeCard:function(){return U.dislikeCard(e._id,t).then((function(e){t.dislikeCard(),t.renewLikes(e)})).catch((function(e){console.error(e)}))},userId:ne.getId()});return t.generateCard()}function ie(e,t){X.open(e,t)}Promise.all([U.getUserData(),U.getCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ne.setUserInfo({name:o.name,about:o.about,profileId:o._id,profileAvatar:o.avatar}),re.renderSection(i)})).catch((function(e){console.log(e)})),G.addEventListener("click",(function(){var e;e=ne.getUserInfo(),V.value=e.name,F.value=e.about,Y.open(),K.resetValidation()})),H.addEventListener("click",(function(){Z.open(),Q.resetValidation()})),z.addEventListener("click",(function(){te.open(),W.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBQUEsWUFBZ0JsSSxFQUFLYyxJQUFLMEssR0FDekI5QyxNQUFLLFNBQUNDLEdBQ0w2QyxFQUFNeEosY0FDTndKLEVBQU16SSxXQUFXNEYsRUFDbEIsSUFDQW1DLE9BQU0sU0FBQ0MsR0FDTk4sUUFBUU8sTUFBTUQsRUFDZixHQVJnQixFQVNuQjVLLE9BQVF1SCxHQUFTaUUsVUFFbkIsT0FBT0gsRUFBTUksY0FDWixDQUVILFNBQVMxTCxHQUFnQk8sRUFBTUUsR0FDN0IwSixFQUFlb0IsS0FBS2hMLEVBQU1FLEVBQzNCLENBM0NEMEksUUFBUXdDLElBQUksQ0FDVjNELEVBQUFBLGNBQ0FBLEVBQUFBLGFBRURRLE1BQUssWUFBcUIsSSxJQUFBLEcsRUFBQSxFLDRDQUFBLEksZ3hCQUFuQmhDLEVBQW1CLEtBQVg4RSxFQUFXLEtBQ3pCOUQsR0FBU2lELFlBQVksQ0FBQ2xLLEtBQU1pRyxFQUFPakcsS0FBTXdILE1BQU92QixFQUFPdUIsTUFBTzJDLFVBQVdsRSxFQUFPNUYsSUFBS2tILGNBQWV0QixFQUFPbUUsU0FDM0dNLEdBQVMvTCxjQUFjb00sRUFDeEIsSUFDQVYsT0FBTSxTQUFDQyxHQUNOTixRQUFRQyxJQUFJSyxFQUNiLElBb0hEbEIsRUFBV2xJLGlCQUFpQixTQUFTLFdBdERyQyxJQUNRM0IsSUFBTzBILEdBQVNvRSxjQUN0QnBDLEVBQVUvQyxNQUFRM0csRUFBS1MsS0FDdkJrSixFQUFTaEQsTUFBUTNHLEVBQUtpSSxNQUN0QnNDLEVBQWFrQixPQW9EYnhCLEVBQVU4QixpQkFDWCxJQUVEakMsRUFBbUJuSSxpQkFBaUIsU0FBUyxXQUMzQ3VKLEVBQVVPLE9BQ1Z0QixFQUFTNEIsaUJBQ1YsSUFFRC9CLEVBQXNCckksaUJBQWlCLFNBQVMsV0FDOUM0SixHQUFZRSxPQUNackIsRUFBZ0IyQixpQkFDakIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIgLCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIH1cbiAgXG4gICAgcmVuZGVyU2VjdGlvbiA9IChpdGVtcykgPT4ge1xuICAgICAgaXRlbXMucmVuZGVyU2VjdGlvbiA9IGl0ZW1zXG4gICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pKVxuICAgIH1cbiAgXG4gICAgYWRkSXRlbSA9IChlbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICAgIH1cbiAgICBhZGROZXdJdGVtID0gKGVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXG4gICAgfVxuICBcbiAgfSIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgeyBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNhcmQsIGhhbmRsZURpc2xpa2VDYXJkfSwgdXNlcklkKSB7XG4gICAgICB0aGlzLl9kYXRhID0gZGF0YVxuICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXIuX2lkO1xuICAgICAgdGhpcy5faWQgPSBkYXRhLl9pZFxuICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuXG4gICAgICB0aGlzLmNhcmRJZCA9IGRhdGEuX2lkXG4gICAgICB0aGlzLnVzZXJJZCA9IHVzZXJJZFxuICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZFxuICAgICAgdGhpcy5faGFuZGxlRGlzbGlrZUNhcmQgPSBoYW5kbGVEaXNsaWtlQ2FyZFxuICAgICAgdGhpcy5fb3duZXJJZCA9IHRoaXMudXNlcklkID09PSB0aGlzLl9vd25lclxuICAgIH1cblxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgfVxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRcbiAgICB9XG5cbiAgICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHRoaXMuX3RyYXNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gXG4gICAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soKVxuICAgICAgKVxuXG4gICAgICB0aGlzLl9jYXJkTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaylcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZS1hY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuZGlzbGlrZUNhcmQoKVxuICAgICAgICAgIHRoaXMuX2hhbmRsZURpc2xpa2VDYXJkKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxpa2VDYXJkKClcbiAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuIFxuICBfY2hlY2tMaWtlcygpIHtcbiAgICB0aGlzLl9saWtlcy5mb3JFYWNoKGxpa2UgPT4ge1xuICAgICAgaWYobGlrZS5faWQgPT09IHRoaXMudXNlcklkKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZS1hY3RpdmUnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBsaWtlQ2FyZCgpIHtcbiAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYWN0aXZlJylcbiAgfVxuXG4gIGRpc2xpa2VDYXJkKCkge1xuICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9fbGlrZS1hY3RpdmUnKVxuICB9XG5cbiAgcmVuZXdMaWtlcyhkYXRhKSB7XG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gZGF0YS5saWtlcy5sZW5ndGhcbiAgfVxuXG4gICAgX2NoZWNrQ2FyZE93bmVyKCkge1xuICAgICAgaWYgKCF0aGlzLl9vd25lcikge1xuICAgICAgICB0aGlzLl90cmFzaEJ0bi5yZW1vdmUoKVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBkZWxldGVDYXJkKCkge1xuICAgICAgdGhpcy5fY2FyZC5yZW1vdmUoKVxuICAgICAgdGhpcy5fY2FyZCA9IG51bGxcbiAgICB9XG4gICBcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgICB0aGlzLl9jYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAgXG4gICAgICB0aGlzLl9jYXJkUGxhY2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpXG4gICAgICB0aGlzLl9jYXJkTGluayA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJylcbiAgICAgIHRoaXMuX2xpa2VCdG4gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJylcbiAgICAgIHRoaXMuX3RyYXNoQnRuID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gnKVxuICAgICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fY291bnQnKVxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgdGhpcy5fY2FyZFBsYWNlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZVxuICAgICAgdGhpcy5fY2FyZExpbmsuc3JjID0gdGhpcy5fbGlua1xuICAgICAgdGhpcy5fY2FyZExpbmsuYWx0ID0gdGhpcy5fbmFtZVxuXG4gICAgICB0aGlzLl9jaGVja0NhcmRPd25lcigpXG4gICAgICB0aGlzLnJlbmV3TGlrZXModGhpcy5fZGF0YSlcbiAgICAgIHRoaXMuX2NoZWNrTGlrZXMoKVxuICAgICAgcmV0dXJuIHRoaXMuX2NhcmRcbiAgICB9XG59XG4gICAgXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IodmFsaWRhdGUsIGZvcm0pIHtcbiAgICAgICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gdmFsaWRhdGUuZm9ybVNlbGVjdG9yXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZGF0ZS5pbnB1dFNlbGVjdG9yXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGUuc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRlLmluYWN0aXZlQnV0dG9uQ2xhc3NcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gdmFsaWRhdGUuaW5wdXRFcnJvckNsYXNzXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0ZS5lcnJvckNsYXNzXG4gICAgICAgIHRoaXMuX2Zvcm0gPSBmb3JtXG5cbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZVxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB9XG5cbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9O1xuXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpe1xuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIF9oYXNJbnZhbGlkSW5wdXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSAnZGlzYWJsZWQnXG4gICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSAnJ1xuICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKVxuXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KVxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgIH07XG5cbiAgICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKVxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXG4gICAgICAgIH0pXG4gICAgfVxufSAiLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yXG4gICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfaXMtb3BlbmVkXCIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgICB9XG5cbiAgICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfaXMtb3BlbmVkXCIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgICB9XG5cbiAgICBfaGFuZGxlRXNjQ2xvc2UgKGV2dCkge1xuICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBfaGFuZGxlT3ZlcmxheUNsb3NlIChldnQpIHtcbiAgICAgIGlmKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSlcbiAgICB9ICAgICBcbiAgfSBcbiIsImltcG9ydCB7UG9wdXB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWltYWdlX190aXRsZScpO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWltYWdlX19pbWFnZScpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH1cbn0iLCJpbXBvcnQge1BvcHVwfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0RnVuY3Rpb24pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbiA9IHN1Ym1pdEZ1bmN0aW9uO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJlc3VsdFtpbnB1dEVsZW1lbnQubmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDsgXG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0RnVuY3Rpb24odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2V0TG9hZGluZ1N0YXRlKGVuYWJsZWQpIHtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uaW5uZXJUZXh0ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCdcbiAgICAgIGlmICh0aGlzLl9zdWJtaXRCdXR0b24uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKVxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7UG9wdXAgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1jb25maXJtX19idXR0b24nKTtcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IG51bGw7XG4gIH1cblxuICBvcGVuKGRlbGV0ZUNhcmQpIHtcbiAgICBzdXBlci5vcGVuKClcbiAgICB0aGlzLl9kZWxldGVDYXJkID0gZGVsZXRlQ2FyZFxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9kZWxldGVDYXJkKClcbiAgICB9KTtcbiAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih1c2VySW5mbykge1xuICAgICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJJbmZvLm5hbWVTZWxlY3Rvcik7XG4gICAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJJbmZvLmRlc2NyaXB0aW9uU2VsZWN0b3IpO1xuICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckluZm8ucHJvZmlsZUF2YXRhcik7XG4gICAgfVxuICBcbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgICBhYm91dDogdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50LFxuICAgICAgICBwcm9maWxlQXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyxcbiAgICAgIH07XG4gICAgfVxuICBcbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGRhdGEucHJvZmlsZUF2YXRhcjtcbiAgICAgIHRoaXMuX2lkID0gZGF0YS51c2VySWRcblxuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lkXG4gICAgfVxuICB9IiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgfVxuXG4gICAgZ2V0VXNlckRhdGEoKSB7XG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc30pXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gICAgfVxuXG4gICAgZ2V0Q2FyZHMoKSB7XG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc30pXG4gICAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xuICAgIH1cblxuICAgIHNldFVzZXJEYXRhKGJvZHkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe2JvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCBcbiAgICAgIG1ldGhvZDogJ1BBVENIJywgXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzfSk7XG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCBjb25maWcpXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gICAgfVxuXG4gICAgYWRkTmV3Q2FyZChib2R5KSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe2JvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywgXG4gICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnN9KTtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgY29uZmlnKVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7bWV0aG9kOiAnREVMRVRFJywgXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnN9KTtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwgY29uZmlnKVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gICAgICB9XG5cbiAgICAgIGxpa2VzQ2FyZChpZCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHttZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzfSk7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIGNvbmZpZylcbiAgICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBkaXNsaWtlQ2FyZChpZCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHttZXRob2Q6ICdERUxFVEUnLCBcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc30pO1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCBjb25maWcpXG4gICAgICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgICAgIH1cbiAgICAgIHNldE5ld0F2YXRhcihib2R5KSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe2JvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCBtZXRob2Q6ICdQQVRDSCcsIFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzfSk7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCBjb25maWcpXG4gICAgICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgICAgIH1cbiAgICAgIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XG4gICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApOyBcbiAgICAgICAgfSBcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00NicsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiAnYjcyOGFkMGMtOGE1MS00NTIxLWJlMDUtOTI0ZWYzZGViMzkyJyxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH1cbiAgICAgIH0pOyIsImltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcbmltcG9ydCB7U2VjdGlvbn0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7Q2FyZH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCB7Rm9ybVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7UG9wdXBXaXRoSW1hZ2V9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IHtQb3B1cFdpdGhGb3JtfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHtQb3B1cENvbmZpcm19IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzJztcbmltcG9ydCB7VXNlckluZm99IGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHthcGl9IGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJ1xuY29uc3QgZWRpdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWVkaXQnKTtcbmNvbnN0IG5hbWVJbnB1dCA9IGVkaXRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3ZhbHVlX25hbWUnKTtcbmNvbnN0IGpvYklucHV0ID0gZWRpdFBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdmFsdWVfam9iJyk7XG5jb25zdCBhZGRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGQnKTtcbmNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmNvbnN0IGJ1dHRvbk9wZW5BZGRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5jb25zdCBhdmF0YXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hdmF0YXInKTtcbmNvbnN0IGJ1dHRvbk9wZW5BdmF0YXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItb3ZlcmxheScpO1xuXG5jb25zdCB2YWxpZGF0ZSA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2J1dHRvbl9pbmFjdGl2ZScsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJ1xufTtcblxuXG5cbmNvbnN0IGVkaXRWYWxpZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRlLCBlZGl0UG9wdXApO1xuZWRpdFZhbGlkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYWRkVmFsaWQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0ZSwgYWRkUG9wdXApO1xuYWRkVmFsaWQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0ZSwgYXZhdGFyUG9wdXApO1xuYXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cC1pbWFnZScpO1xucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cC1lZGl0JywgZWRpdFByb2ZpbGVJbmZvKTtcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLWFkZCcsIGFkZE5ld0NhcmQpO1xucG9wdXBDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cENvbmZpcm0oJy5wb3B1cC1jb25maXJtJyk7XG5wb3B1cENvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLWF2YXRhcicsIHNldE5ld0F2YXRhcik7XG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogJy5wcm9maWxlX19qb2InLFxuICBwcm9maWxlQXZhdGFyOiAnLnByb2ZpbGVfX2F2YXRhcicsXG59KTtcblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbigoaXRlbSkgPT57XG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKVxufSwgJy5lbGVtZW50cycpO1xuXG5cblByb21pc2UuYWxsKFsgICAgICAgICAgICAgICAgIFxuICBhcGkuZ2V0VXNlckRhdGEoKSwgXG4gIGFwaS5nZXRDYXJkcygpIFxuXSkgXG4udGhlbigoW3Jlc3VsdCwgY2FyZHNdKSA9PiB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtuYW1lOiByZXN1bHQubmFtZSwgYWJvdXQ6IHJlc3VsdC5hYm91dCwgcHJvZmlsZUlkOiByZXN1bHQuX2lkLCBwcm9maWxlQXZhdGFyOiByZXN1bHQuYXZhdGFyfSk7XG4gIGNhcmRMaXN0LnJlbmRlclNlY3Rpb24oY2FyZHMpO1xufSlcbi5jYXRjaCgoZXJyKT0+eyAgICAgICAgICAgICAgXG4gIGNvbnNvbGUubG9nKGVycik7XG59KVxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XG4gIGNvbnN0IGNhcmRzID0gbmV3IENhcmQoZGF0YSwnLmNhcmQnLCBoYW5kbGVDYXJkQ2xpY2ssICB7XG4gICAgaGFuZGxlRGVsZXRlQ2xpY2s6ICgpID0+IG9wZW5Qb3B1cENvbmZpcm0oZGF0YS5faWQsIGNhcmRzKSxcblxuICAgIGhhbmRsZUxpa2VDYXJkOiAoKSA9PiB7XG4gICAgICBhcGkubGlrZXNDYXJkKGRhdGEuX2lkLCBjYXJkcylcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZHMucmVuZXdMaWtlcyhyZXMpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkcy5saWtlQ2FyZCgpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfSlcbiAgICB9LFxuICAgIGhhbmRsZURpc2xpa2VDYXJkOiAoKSA9PiBcbiAgICAgIGFwaS5kaXNsaWtlQ2FyZChkYXRhLl9pZCwgY2FyZHMpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmRzLmRpc2xpa2VDYXJkKClcbiAgICAgICAgY2FyZHMucmVuZXdMaWtlcyhyZXMpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOyBcbiAgICAgIH0pLFxuICAgIHVzZXJJZDogdXNlckluZm8uZ2V0SWQoKVxuICAgfSlcbiAgcmV0dXJuIGNhcmRzLmdlbmVyYXRlQ2FyZCgpO1xuICB9XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluaylcbn1cblxuZnVuY3Rpb24gb3BlblBvcHVwQ29uZmlybSAoaWQsIGNhcmRzKSB7XG4gIHBvcHVwQ29uZmlybS5vcGVuKCgpID0+IHtcbiAgICBhcGkuZGVsZXRlQ2FyZChpZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkcy5kZWxldGVDYXJkKCk7XG4gICAgICBwb3B1cENvbmZpcm0uY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7IFxuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzbGlrZShpZCwgY2FyZHMpIHtcbiAgYXBpLmRpc2xpa2VDYXJkKGlkKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNhcmRzLnNldExpa2VzKHJlc3VsdC5saWtlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpOyBcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbGlrZSgpIHtcblxufVxuXG5mdW5jdGlvbiBvcGVuUHJvcGZpbGVQb3B1cCgpIHtcbiAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IGRhdGEubmFtZTtcbiAgam9iSW5wdXQudmFsdWUgPSBkYXRhLmFib3V0O1xuICBwb3B1cFByb2ZpbGUub3BlbigpO1xufVxuXG5mdW5jdGlvbiBlZGl0UHJvZmlsZUluZm8oZGF0YSkge1xuICBwb3B1cFByb2ZpbGUuc2V0TG9hZGluZ1N0YXRlKHRydWUpO1xuICBjb25zb2xlLmxvZyhkYXRhLmFib3V0KVxuICBhcGkuc2V0VXNlckRhdGEoe25hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEuYWJvdXR9KVxuXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe25hbWU6IHJlcy5uYW1lLCBhYm91dDogcmVzLmFib3V0LCBwcm9maWxlSWQ6IHJlcy5faWQsIHByb2ZpbGVBdmF0YXI6IHJlcy5hdmF0YXJ9KTtcbiAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsgXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cFByb2ZpbGUuc2V0TG9hZGluZ1N0YXRlKGZhbHNlKSk7XG59XG5cbmZ1bmN0aW9uIGFkZE5ld0NhcmQocmVzdWx0KSB7XG4gIHBvcHVwQ2FyZC5zZXRMb2FkaW5nU3RhdGUodHJ1ZSk7XG4gIGFwaS5hZGROZXdDYXJkKHJlc3VsdClcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXN1bHQpKVxuICB9KVxuICAudGhlbigoKSA9PiB7XG4gICAgcG9wdXBDYXJkLmNsb3NlKClcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7IFxuICB9KVxuICAuZmluYWxseSgoKSA9PiBcbiAgICBwb3B1cENhcmQuc2V0TG9hZGluZ1N0YXRlKGZhbHNlKVxuKTtcbn1cblxuXG5mdW5jdGlvbiBzZXROZXdBdmF0YXIoZGF0YSkgXG57XG4gIHBvcHVwQXZhdGFyLnNldExvYWRpbmdTdGF0ZSh0cnVlKTtcbiAgYXBpLnNldE5ld0F2YXRhcih7YXZhdGFyOiBkYXRhLmF2YXRhcn0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe25hbWU6IHJlcy5uYW1lLCBhYm91dDogcmVzLmFib3V0LCBwcm9maWxlSWQ6IHJlcy5faWQsIHByb2ZpbGVBdmF0YXI6IHJlcy5hdmF0YXJ9KTtcbiAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpOyBcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQXZhdGFyLnNldExvYWRpbmdTdGF0ZShmYWxzZSkpO1xufVxuXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBvcGVuUHJvcGZpbGVQb3B1cCgpO1xuICBlZGl0VmFsaWQucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuYnV0dG9uT3BlbkFkZFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cENhcmQub3BlbigpO1xuICBhZGRWYWxpZC5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5idXR0b25PcGVuQXZhdGFyUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcbiAgYXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7Il0sIm5hbWVzIjpbIlNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJTZWN0aW9uIiwiZm9yRWFjaCIsIml0ZW0iLCJfcmVuZGVyZXIiLCJlbGVtZW50IiwiX2NvbnRhaW5lciIsImFwcGVuZCIsInByZXBlbmQiLCJ0aGlzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJ1c2VySWQiLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDYXJkIiwiaGFuZGxlRGlzbGlrZUNhcmQiLCJfZGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9vd25lciIsIm93bmVyIiwiX2lkIiwiX2xpa2VzIiwibGlrZXMiLCJjYXJkSWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2FyZCIsIl9oYW5kbGVEaXNsaWtlQ2FyZCIsIl9vd25lcklkIiwiY29udGVudCIsImNsb25lTm9kZSIsIl90cmFzaEJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2FyZExpbmsiLCJfbGlrZUJ0biIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZGlzbGlrZUNhcmQiLCJsaWtlQ2FyZCIsImxpa2UiLCJhZGQiLCJyZW1vdmUiLCJfbGlrZXNDb3VudGVyIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJfY2FyZCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkUGxhY2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJfY2hlY2tDYXJkT3duZXIiLCJyZW5ld0xpa2VzIiwiX2NoZWNrTGlrZXMiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGUiLCJmb3JtIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9oYW5kbGVPdmVybGF5Q2xvc2UiLCJQb3B1cFdpdGhJbWFnZSIsIl90aXRsZSIsIl9pbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jdGlvbiIsIl9zdWJtaXRGdW5jdGlvbiIsIl9wb3B1cEZvcm0iLCJfc3VibWl0QnV0dG9uIiwicmVzdWx0IiwidmFsdWUiLCJlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJlbmFibGVkIiwic2V0QXR0cmlidXRlIiwiaW5uZXJUZXh0IiwiaGFzQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiUG9wdXBDb25maXJtIiwiX2NvbmZpcm1CdXR0b24iLCJfc3VibWl0Q2FsbGJhY2siLCJkZWxldGVDYXJkIiwiX2RlbGV0ZUNhcmQiLCJVc2VySW5mbyIsInVzZXJJbmZvIiwiX3Byb2ZpbGVOYW1lIiwibmFtZVNlbGVjdG9yIiwiX3Byb2ZpbGVEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJfcHJvZmlsZUF2YXRhciIsInByb2ZpbGVBdmF0YXIiLCJhYm91dCIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJfZ2V0UmVzcG9uc2VEYXRhIiwiYm9keSIsImNvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYXV0aG9yaXphdGlvbiIsImVkaXRQb3B1cCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiYWRkUG9wdXAiLCJidXR0b25FZGl0IiwiYnV0dG9uT3BlbkFkZFBvcHVwIiwiYXZhdGFyUG9wdXAiLCJidXR0b25PcGVuQXZhdGFyUG9wdXAiLCJlZGl0VmFsaWQiLCJlbmFibGVWYWxpZGF0aW9uIiwiYWRkVmFsaWQiLCJhdmF0YXJWYWxpZGF0b3IiLCJwb3B1cFdpdGhJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBQcm9maWxlIiwic2V0TG9hZGluZ1N0YXRlIiwiY29uc29sZSIsImxvZyIsInNldFVzZXJJbmZvIiwicHJvZmlsZUlkIiwiYXZhdGFyIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsImZpbmFsbHkiLCJwb3B1cENhcmQiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwicG9wdXBDb25maXJtIiwicG9wdXBBdmF0YXIiLCJjYXJkcyIsIm9wZW4iLCJvcGVuUG9wdXBDb25maXJtIiwiZ2V0SWQiLCJnZW5lcmF0ZUNhcmQiLCJhbGwiLCJnZXRVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=